# 源码阅读报告（三）：高级设计意图分析
经过上面两篇的报告，我们在这篇报告中将更加多专注于optimizer部分的设计。在课堂的pre中我没有具体引用工厂模式在pytorch中的具体应用，因为我觉得不太容易讲解清楚，幸好还有一次报告的机会，就把这个分析作为这次报告的开场。
## 在optimizer中的工厂模式
### 工厂模式的简单回顾
简单来说工厂模式就是造“工厂”，用你自己的“工厂”来生产新的类，供coder使用。可以分为：简单工厂，工厂模式，抽象工厂三种。


## optimizer的设计鉴赏
### optimizer是干什么的？
> 它是用于更新模型参数的工具，其目的是通过迭代的方式最小化损失函数，从而训练模型使其在给定任务上表现更好。简单来说就是，一盏指路明灯，为人类训练模型指路

可以看到这关系到核心需求**训练**。面对多种多样的需求，optimizer的设计就必须兼顾考虑这些需求，同时还得易于使用，让人们只需要简单的设置就可以快速开始训练，不必在实现optimizer上花费时间。
### optimizer的类图
![alt text](image-12.png)
上面类图简单的说明如下：
Optimizer:
+ 定义为抽象基类，包含优化器的通用接口。
+ 包括属性 state 和 param_groups 及方法如 step()、zero_grad() 等。

Adam 和 SGD:
+ 分别继承自 Optimizer。
+ 重写了 step() 方法，实现各自的参数更新逻辑。

依赖关系:
+ Optimizer 是 Adam 和 SGD 的父类
